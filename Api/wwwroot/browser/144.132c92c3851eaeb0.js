"use strict";(self.webpackChunkangular_app=self.webpackChunkangular_app||[]).push([[144],{144:(M,p,i)=>{i.r(p),i.d(p,{QuotesModule:()=>C});var c=i(177),h=i(2183),s=i(4341),t=i(4438),m=i(8810),l=i(9437),g=i(5312),f=i(1562);let b=(()=>{class o{http;apiUrl=g.c.apiUrl;constructor(e){this.http=e}handleError(e){return console.error("An error occurred:",e),(0,m.$)("Something went wrong; please try again later.")}getQuotes(){return this.http.get(`${this.apiUrl}/quotes`).pipe((0,l.W)(this.handleError))}getQuote(e){return this.http.get(`${this.apiUrl}/quotes/${e}`).pipe((0,l.W)(this.handleError))}addQuote(e){return this.http.post(`${this.apiUrl}/quotes`,e).pipe((0,l.W)(this.handleError))}updateQuote(e){return this.http.put(`${this.apiUrl}/quotes/${e.id}`,e).pipe((0,l.W)(this.handleError))}deleteQuote(e){return this.http.delete(`${this.apiUrl}/quotes/${e}`).pipe((0,l.W)(this.handleError))}static \u0275fac=function(n){return new(n||o)(t.KVO(f.Qq))};static \u0275prov=t.jDH({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})();var Q=i(671);function q(o,F){if(1&o){const e=t.RV6();t.j41(0,"li",11)(1,"blockquote",12)(2,"p"),t.EFF(3),t.k0s(),t.j41(4,"footer",13),t.EFF(5),t.k0s()(),t.j41(6,"div",14)(7,"button",15),t.bIt("click",function(){const r=t.eBV(e).$implicit,u=t.XpG();return t.Njj(u.editQuote(r.id))}),t.EFF(8,"Redigera"),t.k0s(),t.j41(9,"button",16),t.bIt("click",function(){const r=t.eBV(e).$implicit,u=t.XpG();return t.Njj(u.deleteQuote(r.id))}),t.EFF(10,"Radera"),t.k0s()()()}if(2&o){const e=F.$implicit;t.R7$(3),t.SpI("\u201c",e.text,"\u201d"),t.R7$(2),t.JRh(e.author)}}let d=(()=>{class o{quoteService;router;route;authService;quotes=[];newQuote={id:0,text:"",author:""};isEditMode=!1;constructor(e,n,r,u){this.quoteService=e,this.router=n,this.route=r,this.authService=u}ngOnInit(){if(this.authService.isAuthenticated()){this.loadQuotes();const e=this.route.snapshot.params.id;e&&(this.isEditMode=!0,this.quoteService.getQuote(+e).subscribe(n=>{this.newQuote=n}))}else this.router.navigate(["/login"])}loadQuotes(){this.quoteService.getQuotes().subscribe(e=>{this.quotes=e})}onSubmit(){this.newQuote.text.trim()&&this.newQuote.author.trim()?this.isEditMode?this.quoteService.updateQuote(this.newQuote).subscribe(()=>{this.loadQuotes(),this.router.navigate(["/quotes"])}):this.quoteService.addQuote(this.newQuote).subscribe(e=>{this.quotes.push(e),this.newQuote={id:0,text:"",author:""}}):alert("All fields are required.")}editQuote(e){void 0!==e&&this.router.navigate(["/quotes",e])}deleteQuote(e){void 0!==e&&this.quoteService.deleteQuote(e).subscribe(()=>{this.quotes=this.quotes.filter(n=>n.id!==e)})}static \u0275fac=function(n){return new(n||o)(t.rXU(b),t.rXU(h.Ix),t.rXU(h.nX),t.rXU(Q.u))};static \u0275cmp=t.VBU({type:o,selectors:[["app-quotes"]],standalone:!0,features:[t.aNF],decls:16,vars:4,consts:[[1,"container","quotes-container","mt-5"],[1,"text-center","mb-4"],[1,"mb-4",3,"ngSubmit"],[1,"mb-3"],["for","quoteText",1,"form-label"],["type","text","id","quoteText","name","text","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","quoteAuthor",1,"form-label"],["type","text","id","quoteAuthor","name","author","required","",1,"form-control",3,"ngModelChange","ngModel"],["type","submit",1,"btn","btn-success"],[1,"list-group","mb-3"],["class","list-group-item d-flex flex-column align-items-start",4,"ngFor","ngForOf"],[1,"list-group-item","d-flex","flex-column","align-items-start"],[1,"blockquote","mb-0"],[1,"blockquote-footer"],[1,"quote-buttons","mt-2"],[1,"btn","btn-primary","btn-sm","redigera-btn",3,"click"],[1,"btn","btn-danger","btn-sm","radera-btn",3,"click"]],template:function(n,r){1&n&&(t.j41(0,"div",0)(1,"h2",1),t.EFF(2,"Mina citat"),t.k0s(),t.j41(3,"form",2),t.bIt("ngSubmit",function(){return r.onSubmit()}),t.j41(4,"div",3)(5,"label",4),t.EFF(6,"Citat"),t.k0s(),t.j41(7,"input",5),t.mxI("ngModelChange",function(a){return t.DH7(r.newQuote.text,a)||(r.newQuote.text=a),a}),t.k0s()(),t.j41(8,"div",3)(9,"label",6),t.EFF(10,"F\xf6rfattare"),t.k0s(),t.j41(11,"input",7),t.mxI("ngModelChange",function(a){return t.DH7(r.newQuote.author,a)||(r.newQuote.author=a),a}),t.k0s()(),t.j41(12,"button",8),t.EFF(13),t.k0s()(),t.j41(14,"ul",9),t.DNE(15,q,11,2,"li",10),t.k0s()()),2&n&&(t.R7$(7),t.R50("ngModel",r.newQuote.text),t.R7$(4),t.R50("ngModel",r.newQuote.author),t.R7$(2),t.JRh(r.isEditMode?"Uppdatera":"L\xe4gg till"),t.R7$(2),t.Y8G("ngForOf",r.quotes))},dependencies:[s.YN,s.qT,s.me,s.BC,s.cb,s.YS,s.vS,s.cV,c.MD,c.Sq],styles:[".container[_ngcontent-%COMP%]{max-width:800px}.blockquote[_ngcontent-%COMP%]{font-size:1.2rem}.blockquote-author[_ngcontent-%COMP%]{font-size:.9rem;color:#6c757d}.quote-buttons[_ngcontent-%COMP%]{display:flex;gap:.5rem;margin-top:.5rem}.redigera-btn[_ngcontent-%COMP%]{margin-right:.5em}@media (max-width: 768px){.quote-buttons[_ngcontent-%COMP%]{width:100%;justify-content:flex-start}}"]})}return o})();const v=[{path:"",component:d},{path:":id",component:d}];let C=(()=>{class o{static \u0275fac=function(n){return new(n||o)};static \u0275mod=t.$C({type:o});static \u0275inj=t.G2t({imports:[c.MD,h.iI.forChild(v),d]})}return o})()}}]);